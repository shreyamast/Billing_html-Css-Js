<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>History</title>
        <link rel="icon" href="/public/Bill Please.png" />
        <link rel="stylesheet" href="./index.css" />
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
          crossorigin="anonymous"
        />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
      </head>
<body>
    <h2><span class="badge bg-danger">Order History</span></h2>
    <br>
    <br>
    <table class="table table-bordered" id="orders-table" border="1">
        <thead>
            <tr>
                <th scope="col">Customer Name</th>
                <th scope="col">Payment Option</th>
                <th scope="col">Dine Option</th>
                <th scope="col">Total Price</th>
                <th scope="col">Order Items</th>
            </tr>
        </thead>
        <tbody>
            <!-- Orders will be populated here -->
        </tbody>
    </table>

    <script>
        let orders = JSON.parse(localStorage.getItem('orders')) || [];

        let tableBody = document.getElementById('orders-table').getElementsByTagName('tbody')[0];

        orders.forEach(function(order) {
            let row = tableBody.insertRow();

            row.insertCell(0).innerText = order.customerName;
            row.insertCell(1).innerText = order.paymentOption;
            row.insertCell(2).innerText = order.dineOption;
            row.insertCell(3).innerText = order.totalPrice;
            row.insertCell(4).innerText = order.orderItems.join(', ');
        });
    </script>
</body>
</html>